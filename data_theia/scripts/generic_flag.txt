--images={{ROOT}}/{{DATASET}}/{{SEQUENCE}}/images/*{{EXT}}
--calibration_file={{ROOT}}/{{DATASET}}/{{SEQUENCE}}/calibration.txt


--output_matches_file={{ROOT_EXP}}/{{DATASET}}/{{EXP_NAME}}/{{SEQUENCE}}/matches.txt
--output_reconstruction={{ROOT_EXP}}/{{DATASET}}/{{EXP_NAME}}/{{SEQUENCE}}/reconstruction.txt
--graph_file={{ROOT_EXP}}/{{DATASET}}/{{EXP_NAME}}/{{SEQUENCE}}/graph.txt
--pose_file={{ROOT_EXP}}/{{DATASET}}/{{EXP_NAME}}/{{SEQUENCE}}/pose.txt

--num_threads=16
--descriptor=SIFT
--feature_density=NORMAL

--match_out_of_core=true
--matching_working_directory={{ROOT_EXP}}/{{DATASET}}/{{EXP_NAME}}/{{SEQUENCE}}/output/
--matching_max_num_images_in_cache=3

--matching_strategy=CASCADE_HASHING
--lowes_ratio=0.75
--min_num_inliers_for_valid_match=30
--max_sampson_error_for_verified_match=6.0
--bundle_adjust_two_view_geometry=true
--keep_only_symmetric_matches=true


--num_nearest_neighbors_for_global_descriptor_matching=50
--num_gmm_clusters_for_fisher_vector=16
--max_num_features_for_fisher_vector_training=1000000

--reconstruction_estimator=GLOBAL
--min_track_length=2
--max_track_length=50
--reconstruct_largest_connected_component=false
--shared_calibration=true
--only_calibrated_views=false


--global_position_estimator=LEAST_UNSQUARED_DEVIATION
--global_rotation_estimator=ROBUST_L1L2
--post_rotation_filtering_degrees=15.0
--refine_relative_translations_after_rotation_estimation=true
--extract_maximal_rigid_subgraph=false
--filter_relative_translations_with_1dsfm=true
--position_estimation_min_num_tracks_per_view=0
--position_estimation_robust_loss_width=0.1
--refine_camera_positions_and_points_after_position_estimation=true
--num_retriangulation_iterations=1

--bundle_adjustment_robust_loss_function=HUBER
--bundle_adjustment_robust_loss_width=10.0
--intrinsics_to_optimize=NONE
--max_reprojection_error_pixels=4.0

--subsample_tracks_for_bundle_adjustment=false
--track_subset_selection_long_track_length_threshold=10
--track_selection_image_grid_cell_size_pixels=100
--min_num_optimized_tracks_per_view=100

--min_triangulation_angle_degrees=4.0
--triangulation_reprojection_error_pixels=15.0
--bundle_adjust_tracks=true

--logtostderr
--v=1